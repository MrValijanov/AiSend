<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>AiSend ¬∑ Demo super balance</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #020c02;
      --card: #052009;
      --card-soft: #093313;
      --accent: #b6ff3b;
      --accent-soft: #274f12;
      --accent-strong: #d5ff5a;
      --danger: #ff3b30;
      --text-main: #f6fff0;
      --text-soft: #9dd6a1;
      --text-muted: #7b8f7b;
      --pill-bg: #0e2c12;
      --pill-border: #274f12;
      --blur-bg: rgba(0, 0, 0, 0.55);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #06350e 0, #020c02 55%, #000000 100%);
      color: var(--text-main);
      min-height: 100vh;
    }

    .app {
      max-width: 480px;
      margin: 0 auto;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding-bottom: env(safe-area-inset-bottom, 12px);
    }

    /* Top bar */

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 16px 6px;
    }

    .top-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .close-btn {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-main);
      font-size: 20px;
    }

    .app-title {
      font-size: 20px;
      font-weight: 700;
    }

    .top-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .kebab {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    /* Header pill row */

    .header-meta {
      padding: 0 16px 4px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .meta-pill {
      border-radius: 999px;
      border: 1px solid var(--pill-border);
      background: linear-gradient(135deg, #041808, #0b2a11);
      color: var(--text-soft);
      padding: 2px 10px;
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .meta-pill .dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 6px rgba(182, 255, 59, 0.8);
    }

    .profile-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--pill-border);
      background: linear-gradient(135deg, #041808, #122612);
      cursor: pointer;
    }

    .profile-avatar {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #d5ff5a, #3fa648);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 13px;
      color: #071502;
    }

    .profile-labels {
      display: flex;
      flex-direction: column;
      line-height: 1.1;
    }

    .profile-labels .title {
      font-size: 11px;
      color: var(--text-soft);
    }

    .profile-labels .subtitle {
      font-size: 11px;
      color: var(--text-muted);
    }

    /* Balance card */

    .content {
      padding: 4px 14px 14px;
      flex: 1;
      overflow-y: auto;
    }

    .card-balance {
      border-radius: 26px;
      padding: 14px 14px 16px;
      background: radial-gradient(circle at top left, #184c16 0, #071b09 42%, #040e05 100%);
      box-shadow:
        0 0 0 1px rgba(182, 255, 59, 0.09),
        0 22px 45px rgba(0, 0, 0, 0.9);
      position: relative;
      color: var(--text-main);
    }

    .balance-header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .balance-label {
      font-size: 13px;
      color: var(--text-soft);
    }

    .asset-filter-btn {
      border-radius: 999px;
      padding: 6px 12px;
      border: 1px solid rgba(182, 255, 59, 0.45);
      background: rgba(2, 12, 2, 0.8);
      color: var(--accent-strong);
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .asset-filter-btn span.caret {
      font-size: 10px;
    }

    .balance-amount {
      font-size: 30px;
      font-weight: 800;
      letter-spacing: 0.02em;
    }

    .balance-currency {
      font-size: 22px;
      font-weight: 800;
      margin-left: 4px;
    }

    .delta-row {
      margin-top: 8px;
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.35);
      padding: 4px 9px;
      gap: 6px;
      font-size: 11px;
    }

    .delta-pill {
      border-radius: 999px;
      padding: 2px 7px;
      background: radial-gradient(circle at top, #08bf4a, #067c32);
      color: #eaffe6;
      font-weight: 600;
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      gap: 3px;
    }

    .delta-arrow {
      font-size: 11px;
    }

    .delta-text {
      color: var(--text-soft);
      font-size: 11px;
    }

    /* Mode buttons row */

    .mode-row {
      margin-top: 14px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 8px;
    }

    .mode-btn {
      border-radius: 18px;
      padding: 8px 4px 9px;
      background: rgba(0, 0, 0, 0.38);
      border: 1px solid rgba(134, 213, 120, 0.32);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      transition: all 0.16s ease-out;
      font-size: 11px;
      color: var(--text-soft);
    }

    .mode-btn-icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      background: radial-gradient(circle at 30% 20%, #d5ff5a, #4c9a37);
      color: #041302;
      box-shadow: 0 0 0 1px rgba(19, 45, 11, 0.4);
    }

    .mode-btn.exchange .mode-btn-icon {
      background: radial-gradient(circle at 30% 20%, #d5ff5a, #267bb5);
    }

    .mode-btn.crypto .mode-btn-icon {
      background: radial-gradient(circle at 30% 20%, #ffd95a, #bf7f10);
    }

    .mode-btn.stocks .mode-btn-icon {
      background: radial-gradient(circle at 30% 20%, #ff9b63, #cf3240);
    }

    .mode-btn.active {
      background: radial-gradient(circle at top, #b6ff3b, #3e7a1c);
      border-color: rgba(0,0,0,0.75);
      color: #021002;
      box-shadow:
        0 10px 26px rgba(7, 42, 5, 0.85),
        0 0 0 1px rgba(182, 255, 59, 0.55) inset;
    }

    .mode-btn.active .mode-btn-icon {
      background: rgba(2, 8, 2, 0.98);
      color: var(--accent-strong);
      box-shadow:
        0 0 0 1px rgba(216, 255, 168, 0.55),
        0 0 12px rgba(0, 0, 0, 0.65);
    }

    .mode-btn-label {
      font-size: 11px;
      font-weight: 600;
    }

    /* Sections common */

    .section {
      margin-top: 16px;
      border-radius: 26px;
      padding: 16px 14px 14px;
      background: radial-gradient(circle at top left, #071910 0, #020703 60%, #000000 100%);
      box-shadow: 0 20px 45px rgba(0, 0, 0, 0.95);
    }

    .section.hidden {
      display: none;
    }

    .section-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .section-subtitle {
      font-size: 12px;
      color: var(--text-soft);
      margin-bottom: 14px;
      line-height: 1.4;
    }

.field-label-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
      font-size: 12px;
      color: var(--text-soft);
    }

    .field-label-row span.right {
      color: var(--text-muted);
      font-size: 11px;
    }

    .field {
      margin-bottom: 12px;
    }

    .input-shell,
    .select-shell {
      border-radius: 18px;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(75, 122, 82, 0.8);
      padding: 10px 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }

    .select-shell select,
    .input-shell input {
      width: 100%;
      background: transparent;
      border: none;
      outline: none;
      color: var(--text-main);
      font-size: 14px;
    }

    .select-shell select {
      -webkit-appearance: none;
      appearance: none;
      padding-right: 16px;
    }

    .select-shell .caret {
      font-size: 10px;
      color: var(--text-soft);
    }

    .muted {
      font-size: 11px;
      color: var(--text-muted);
    }

    /* Fees / result card */

    .fee-card {
      margin-top: 10px;
      border-radius: 20px;
      padding: 10px 12px;
      background: radial-gradient(circle at top, #06130c, #020804);
      border: 1px solid rgba(134, 213, 120, 0.5);
    }

    .fee-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
      font-size: 12px;
    }

    .fee-row.total {
      margin-top: 6px;
      padding-top: 6px;
      border-top: 1px dashed rgba(120, 157, 120, 0.5);
      font-weight: 600;
    }

    .fee-label {
      color: var(--text-soft);
    }

    .fee-value {
      color: var(--accent-strong);
    }

    .fee-value.muted {
      color: var(--text-muted);
    }

    /* Big button */

    .primary-btn {
      margin-top: 16px;
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 14px 12px;
      font-size: 15px;
      font-weight: 700;
      background: linear-gradient(90deg, #c9ff4f, #76ff3b);
      color: #021004;
      box-shadow:
        0 14px 34px rgba(69, 155, 34, 0.9),
        0 0 0 1px rgba(192, 255, 138, 0.85);
      cursor: pointer;
    }

    .primary-btn:active {
      transform: translateY(1px);
      box-shadow:
        0 7px 18px rgba(55, 121, 27, 0.85),
        0 0 0 1px rgba(192, 255, 138, 0.95);
    }

    /* Simple placeholder cards for Exchange / Crypto / Stocks */

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }

    .small-pill {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(111, 155, 115, 0.75);
      color: var(--text-soft);
    }

    .asset-list {
      margin-top: 10px;
      border-radius: 18px;
      background: rgba(0, 0, 0, 0.65);
      border: 1px solid rgba(39, 71, 46, 0.9);
      padding: 8px 8px 2px;
    }

    .asset-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 6px;
      border-radius: 12px;
    }

    .asset-row + .asset-row {
      margin-top: 2px;
    }

    .asset-row:hover {
      background: rgba(13, 40, 16, 0.85);
    }

    .asset-main {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .asset-icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: radial-gradient(circle at 25% 15%, #d5ff5a, #3b8e34);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 700;
      color: #042004;
    }

    .asset-text {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .asset-name {
      font-size: 13px;
      font-weight: 600;
    }

    .asset-sub {
      font-size: 11px;
      color: var(--text-muted);
    }

    .asset-value {
      text-align: right;
      font-size: 12px;
    }

    .asset-value .amount {
      font-weight: 600;
    }

    .asset-value .change-pos {
      font-size: 11px;
      color: #63ff9c;
    }

    .asset-value .change-neg {
      font-size: 11px;
      color: #ff7b88;
    }

    /* Profile modal */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.95));
      display: none;
      align-items: flex-end;
      justify-content: center;
      z-index: 20;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .profile-modal {
      width: 100%;
      max-width: 480px;
      border-radius: 26px 26px 0 0;
      background: radial-gradient(circle at top, #0b2711, #020803 60%, #000000 100%);
      box-shadow: 0 -24px 40px rgba(0, 0, 0, 0.95);
      padding: 16px 16px 18px;
      border-top: 1px solid rgba(182, 255, 59, 0.35);
    }

    .profile-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .profile-modal-title {
      font-size: 18px;
      font-weight: 700;
    }

    .profile-modal-close {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: rgba(0, 0, 0, 0.65);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      cursor: pointer;
    }

    .profile-field {
      font-size: 13px;
      margin-bottom: 4px;
    }

    .profile-field label {
      color: var(--text-soft);
      margin-right: 4px;
    }

    .profile-separator {
      margin: 10px 0 12px;
      border-top: 1px dashed rgba(115, 152, 118, 0.8);
    }

    .modal-btn-row {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 8px;
    }

    .secondary-btn,
    .danger-btn {
      width: 100%;
      border-radius: 999px;
      padding: 12px 10px;
      border: 1px solid rgba(143, 188, 148, 0.9);
      background: rgba(0, 0, 0, 0.75);
      color: var(--text-main);
      font-size: 14px;
      font-weight: 600;
    }

    .danger-btn {
      border-color: rgba(255, 80, 80, 0.8);
      background: radial-gradient(circle at top, #902020, #2b0505);
      color: #ffeaea;
    }

    .secondary-btn:active,
    .danger-btn:active {
      transform: translateY(1px);
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Top bar -->
    <div class="top-bar">
      <div class="top-left">
        <div class="close-btn">‚úï</div>
        <div class="app-title">AiSend</div>
      </div>
      <div class="top-right">
        <div class="kebab">‚ãÆ</div>
      </div>
    </div>

    <!-- Header meta -->
    <div class="header-meta">
      <div class="meta-pill">
        <span class="dot"></span>
        <span>AISEND ¬∑ DEMO</span>
      </div>
      <button class="profile-pill" id="openProfileBtn" type="button">
        <div class="profile-avatar" id="pfAvatar">TG</div>
        <div class="profile-labels">
          <span class="title">Profil</span>
          <span class="subtitle" id="pfInlineUsername">@demo</span>
        </div>
      </button>
    </div>

    <div class="content">
      <!-- Balance card -->
      <div class="card-balance">
        <div class="balance-header-row">
          <div class="balance-label">Umumiy balans</div>
          <button type="button" class="asset-filter-btn" id="assetFilterBtn">
            <span id="assetFilterLabel">Barcha aktivlar</span>
            <span class="caret">‚ñæ</span>
          </button>
        </div>

        <div>
          <span class="balance-amount" id="totalBalanceAmount">12 450.00</span>
          <span class="balance-currency">USZ</span>
        </div>

        <div class="delta-row">
          <span class="delta-pill">
            <span class="delta-arrow">‚ñ≤</span>
            <span id="deltaPercent">+3.4%</span>
          </span>
          <span class="delta-text">Oxirgi hafta (demo)</span>
        </div>

        <div class="mode-row" id="modeRow">
          <button class="mode-btn send active" data-mode="send" type="button">
            <div class="mode-btn-icon">‚Üó</div>
            <div class="mode-btn-label">Send</div>
          </button>
          <button class="mode-btn exchange" data-mode="exchange" type="button">
            <div class="mode-btn-icon">‚áÑ</div>
            <div class="mode-btn-label">Exchange</div>
          </button>
          <button class="mode-btn crypto" data-mode="crypto" type="button">
            <div class="mode-btn-icon">‚Çø</div>
            <div class="mode-btn-label">Crypto</div>
          </button>
          <button class="mode-btn stocks" data-mode="stocks" type="button">
            <div class="mode-btn-icon">üìà</div>
            <div class="mode-btn-label">Stocks</div>
          </button>
        </div>
      </div>

      <!-- SEND / Quick Transfer section -->
      <section class="section" id="send-section">
        <div class="section-title">Quick Transfer</div>
        <div class="section-subtitle">
          UZS ‚Üí KZT / KGS kartaga tezkor o‚Äòtkazmalar (demo). Komissiya tarkibini
          oldindan ko‚Äòrib turasiz.
        </div>

        <form id="sendForm">
          <!-- From / To -->
          <div class="field">
            <div class="field-label-row">
              <span>From valyuta</span>
              <span class="right">Demo uchun faqat UZS ‚Üí KZT ishlaydi</span>
            </div>
            <div class="select-shell">
              <select id="fromCurrency">
                <option value="UZS">UZS (Uzbekistan)</option>
              </select>
              <span class="caret">‚ñæ</span>
            </div>
          </div>

          <div class="field">
            <div class="field-label-row">
              <span>To valyuta</span>
            </div>
            <div class="select-shell">
              <select id="toCurrency">
                <option value="KZT">KZT (Kazakhstan)</option>
              </select>
              <span class="caret">‚ñæ</span>
            </div>
          </div>

          <!-- Amount -->
          <div class="field">
            <div class="field-label-row">
              <span>Miqdor</span>
              <span class="right" id="demoRateLabel">1 UZS ‚âà demo kurs</span>
            </div>
            <div class="input-shell">
              <input
                id="sendAmount"
                type="number"
                inputmode="decimal"
                min="0"
                placeholder="Miqdor kiriting"
              />
            </div>
          </div>

          <!-- Receiver -->
          <div class="field">
            <div class="field-label-row">
              <span>Qabul qiluvchi (demo)</span>
              <span class="right">@username yoki karta raqam</span>
            </div>
            <div class="input-shell">
              <input
                id="sendReceiver"
                type="text"
                placeholder="@username yoki karta raqam (demo)"
              />
            </div>
          </div>

          <div class="section-subtitle" style="margin-bottom: 6px;">
            Komissiyalar: <strong>1% exchange + 1% transfer</strong> (demo). Real
            ilovada bu raqamlar litsenziyaga qarab o‚Äòzgaradi.
          </div>

          <div class="fee-card" id="feeCard">
            <div class="fee-row">
              <div class="fee-label">Qabul qiluvchi oladi (taxminan)</div>
              <div class="fee-value" id="resultAmount">0,00 KZT</div>
            </div>
            <div class="fee-row">
              <div class="fee-label">Exchange fee (1%)</div>
              <div class="fee-value muted" id="exchangeFee">0,00 KZT</div>
            </div>
            <div class="fee-row">
              <div class="fee-label">Transfer fee (1%)</div>
              <div class="fee-value muted" id="transferFee">0,00 KZT</div>
            </div>
            <div class="fee-row total">
              <div class="fee-label">Umumiy komissiya</div>
              <div class="fee-value" id="totalFee">0,00 KZT</div>
            </div>
          </div>

          <button class="primary-btn" id="confirmSendBtn" type="submit">
            Yuborishni tasdiqlash (demo)
          </button>
        </form>
      </section>

      <!-- EXCHANGE section -->
      <section class="section hidden" id="exchange-section">
        <div class="section-title">Exchange (demo)</div>
        <div class="section-subtitle">
          Balansingiz ichida UZS ‚Üî KZT ‚Üî KGS o‚Äòzaro almashtirish (faqat balans ichida,
          kartaga chiqmaydi). Hozircha bu faqat konsept.
        </div>

        <div class="pill-row">
          <div class="small-pill">1% exchange fee (demo)</div>
          <div class="small-pill">Real rejimda KYC &amp; litsenziya talab qilinadi</div>
        </div>

        <div class="asset-list">
          <div class="asset-row">
            <div class="asset-main">
              <div class="asset-icon">UZ</div>
              <div class="asset-text">
                <div class="asset-name">UZS balans</div>
                <div class="asset-sub">Masalan: 7 250 000 so‚Äòm</div>
              </div>
            </div>
            <div class="asset-value">
              <div class="amount">7 250 000</div>
              <div class="change-pos">+0.8% haftada</div>
            </div>
          </div>
          <div class="asset-row">
            <div class="asset-main">
              <div class="asset-icon">KZ</div>
              <div class="asset-text">
                <div class="asset-name">KZT balans</div>
                <div class="asset-sub">Masalan: 420 000 ‚Ç∏</div>
              </div>
            </div>
            <div class="asset-value">
              <div class="amount">420 000</div>
              <div class="change-pos">+1.1% haftada</div>
            </div>
          </div>
        </div>

        <div class="section-subtitle" style="margin-top: 10px;">
          To‚Äòliq exchange formasi keyingi bosqichda qo‚Äòshiladi. Hozircha investorlar
          uchun UI konsept sifatida qoladi.
        </div>
      </section>

      <!-- CRYPTO section -->
      <section class="section hidden" id="crypto-section">
        <div class="section-title">Crypto (demo)</div>
        <div class="section-subtitle">
          USDT, BTC, ETH kabi aktivlar uchun vitrina. Real versiyada faqat ruxsat
          etilgan kripto broker / exchange bilan integratsiya qilinadi.
        </div>

        <div class="pill-row">
          <div class="small-pill">Demo only ¬∑ Not investment advice</div>
          <div class="small-pill">KYC / AML majburiy bo‚Äòladi</div>
        </div>

        <div class="asset-list">
          <div class="asset-row">
            <div class="asset-main">
              <div class="asset-icon">‚ÇÆ</div>
              <div class="asset-text">
                <div class="asset-name">USDT (Tether)</div>
                <div class="asset-sub">Stablecoin, 1 USDT ‚âà 1 USD (demo)</div>
              </div>
            </div>
            <div class="asset-value">
              <div class="amount">2 400.00</div>
              <div class="change-pos">+0.1% bugun</div>
            </div>
          </div>
          <div class="asset-row">
            <div class="asset-main">
              <div class="asset-icon">‚Çø</div>
              <div class="asset-text">
                <div class="asset-name">BTC</div>
                <div class="asset-sub">Bitcoin narxi faqat ko‚Äòrsatkich sifatida</div>
              </div>
            </div>
            <div class="asset-value">
              <div class="amount">0.035</div>
              <div class="change-pos">+2.5% bugun</div>
            </div>
          </div>
        </div>

        <div class="section-subtitle" style="margin-top: 10px;">
          Bu bo‚Äòlim hozircha faqat dizayn. Real amalga oshirish uchun alohida
          kriptolikvidlik provayderi va regulator ruxsati kerak bo‚Äòladi.
        </div>
      </section>

      <!-- STOCKS section -->
      <section class="section hidden" id="stocks-section">
        <div class="section-title">Stocks (demo)</div>
        <div class="section-subtitle">
          AQSH va mahalliy fond bozoridagi aksiyalarni kuzatish uchun vitrina.
          Demo rejim: faqat ma‚Äôlumot, hech qanday haqiqiy savdo yo‚Äòq.
        </div>

        <div class="pill-row">
          <div class="small-pill">Demo portfolio</div>
          <div class="small-pill">Risk disclosure zarur bo‚Äòladi</div>
        </div>

        <div class="asset-list">
          <div class="asset-row">
            <div class="asset-main">
              <div class="asset-icon">A</div>
              <div class="asset-text">
                <div class="asset-name">AAPL</div>
                <div class="asset-sub">Apple Inc. (demo narx)</div>
              </div>
            </div>
            <div class="asset-value">
              <div class="amount">$189.20</div>
              <div class="change-pos">+0.7%</div>
            </div>
          </div>
          <div class="asset-row">
            <div class="asset-main">
              <div class="asset-icon">T</div>
              <div class="asset-text">
                <div class="asset-name">TSLA</div>
                <div class="asset-sub">Tesla Inc. (demo narx)</div>
              </div>
            </div>
            <div class="asset-value">
              <div class="amount">$215.30</div>
              <div class="change-neg">-1.4%</div>
            </div>
          </div>
        </div>

        <div class="section-subtitle" style="margin-top: 10px;">
          Kelajakda bu bo‚Äòlim AiSend uchun alohida ‚Äúinvest super app‚Äù g‚Äòoyasiga
          aylanadi. Hozircha investorlar uchun prototip.
        </div>
      </section>
    </div>
  </div>

  <!-- Profile modal -->
  <div class="modal-backdrop" id="profileModalBackdrop">
    <div class="profile-modal">
      <div class="profile-modal-header">
        <div class="profile-modal-title">Telegram profil</div>
        <button class="profile-modal-close" id="closeProfileBtn" type="button">‚úï</button>
      </div>

      <div class="profile-field">
        <label>Ism:</label>
        <span id="pfName">-</span>
      </div>
      <div class="profile-field">
        <label>ID:</label>
        <span id="pfId">-</span>
      </div>
      <div class="profile-field">
        <label>Username:</label>
        <span id="pfUsername">-</span>
      </div>

      <div class="profile-separator"></div>

      <div class="modal-btn-row">
        <button class="secondary-btn" type="button">
          Sozlamalar (tez orada)
        </button>
        <button class="danger-btn" type="button">
          Chiqish (tez orada)
        </button>
      </div>
    </div>
  </div>
<script>
    // === DEMO KURSLAR ===
    const DEMO_RATES = {
      "UZS_KZT": 0.040000 // 1 UZS ‚âà 0.04 KZT (demo)
    };

    // Format helper
    function fmtKZT(value) {
      if (!isFinite(value)) return "0,00 KZT";
      return value.toLocaleString("ru-RU", {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      }) + " KZT";
    }

    // === TABS (Send / Exchange / Crypto / Stocks) ===
    const modeButtons = document.querySelectorAll(".mode-btn");
    const sections = {
      send: document.getElementById("send-section"),
      exchange: document.getElementById("exchange-section"),
      crypto: document.getElementById("crypto-section"),
      stocks: document.getElementById("stocks-section")
    };

    function setActiveMode(mode) {
      modeButtons.forEach(btn => {
        btn.classList.toggle("active", btn.dataset.mode === mode);
      });

      Object.entries(sections).forEach(([key, el]) => {
        if (!el) return;
        el.classList.toggle("hidden", key !== mode);
      });
    }

    modeButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const mode = btn.dataset.mode || "send";
        setActiveMode(mode);
      });
    });

    // === Telegram WebApp profil ma'lumotlari ===
    function initTelegramProfile() {
      try {
        if (!(window.Telegram && Telegram.WebApp && Telegram.WebApp.initDataUnsafe)) {
          return;
        }
        const u = Telegram.WebApp.initDataUnsafe.user;
        if (!u) return;

        const fullName = [u.first_name, u.last_name].filter(Boolean).join(" ");
        const id = String(u.id);
        const username = u.username ? "@" + u.username : "-";

        document.getElementById("pfName").textContent = fullName || "-";
        document.getElementById("pfId").textContent = id || "-";
        document.getElementById("pfUsername").textContent = username;
        document.getElementById("pfInlineUsername").textContent = username;

        const initials = (u.first_name?.[0] || "T").toUpperCase() +
          (u.last_name?.[0] || "").toUpperCase();
        document.getElementById("pfAvatar").textContent = initials || "TG";
      } catch (e) {
        console.warn("Telegram initDataUnsafe o'qishda xato:", e);
      }
    }

    // === Profil modali ochib-yopish ===
    const profileBackdrop = document.getElementById("profileModalBackdrop");
    document.getElementById("openProfileBtn").addEventListener("click", () => {
      profileBackdrop.classList.add("visible");
    });
    document.getElementById("closeProfileBtn").addEventListener("click", () => {
      profileBackdrop.classList.remove("visible");
    });
    profileBackdrop.addEventListener("click", (e) => {
      if (e.target === profileBackdrop) {
        profileBackdrop.classList.remove("visible");
      }
    });

    // === Send (Quick Transfer) hisob-kitob ===
    const demoRateLabel = document.getElementById("demoRateLabel");
    const sendAmountInput = document.getElementById("sendAmount");
    const receiverInput = document.getElementById("sendReceiver");
    const resultAmountEl = document.getElementById("resultAmount");
    const exchangeFeeEl = document.getElementById("exchangeFee");
    const transferFeeEl = document.getElementById("transferFee");
    const totalFeeEl = document.getElementById("totalFee");

    function getDemoRate() {
      return DEMO_RATES["UZS_KZT"] || 0.04;
    }

    function recalcSend() {
      const amountUZS = parseFloat(sendAmountInput.value.replace(",", ".")) || 0;
      const rate = getDemoRate();

      demoRateLabel.textContent = "1 UZS ‚âà " + rate.toFixed(6) + " KZT (onlayn)";

      const grossKZT = amountUZS * rate;
      const exchangeFee = grossKZT * 0.01;
      const transferFee = grossKZT * 0.01;
      const totalFee = exchangeFee + transferFee;
      const netKZT = Math.max(grossKZT - totalFee, 0);

      resultAmountEl.textContent = fmtKZT(netKZT);
      exchangeFeeEl.textContent = fmtKZT(exchangeFee);
      transferFeeEl.textContent = fmtKZT(transferFee);
      totalFeeEl.textContent = fmtKZT(totalFee);

      return {
        amountUZS,
        grossKZT,
        exchangeFee,
        transferFee,
        totalFee,
        netKZT
      };
    }

    ["input", "change"].forEach(ev => {
      sendAmountInput.addEventListener(ev, recalcSend);
    });

    // === Confirm button (demo alert) ===
    const sendForm = document.getElementById("sendForm");
    const confirmBtn = document.getElementById("confirmSendBtn");

    sendForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const calc = recalcSend();
      if (!calc.amountUZS || calc.amountUZS <= 0) {
        if (window.Telegram && Telegram.WebApp) {
          Telegram.WebApp.showAlert("Iltimos, miqdorni kiriting (UZS).");
        } else {
          alert("Iltimos, miqdorni kiriting (UZS).");
        }
        return;
      }

      const receiverRaw = receiverInput.value.trim() || "@demo_qabul_qiluvchi";
      const msg =
        "Demo: tranzaksiya tayyor.\n\n" +
        "Jo'natuvchi: AiSend balans (UZS)\n" +
        "Qabul qiluvchi: " + receiverRaw + "\n\n" +
        "Brutto: " + fmtKZT(calc.grossKZT) + "\n" +
        "Exchange fee (1%): " + fmtKZT(calc.exchangeFee) + "\n" +
        "Transfer fee (1%): " + fmtKZT(calc.transferFee) + "\n" +
        "Umumiy komissiya: " + fmtKZT(calc.totalFee) + "\n\n" +
        "Qabul qiluvchi oladi (taxminan): " + fmtKZT(calc.netKZT) + "\n\n" +
        "Bu faqat DEMO. Haqiqiy pul o'tkazmasi bajarilmaydi.";

      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.showAlert(msg);
      } else {
        alert(msg);
      }
    });

    // === Init on load ===
    document.addEventListener("DOMContentLoaded", () => {
      setActiveMode("send");
      recalcSend();
      initTelegramProfile();
    });
  </script>
</body>
</html>

