<!DOCTYPE html>
<html lang="uz">
  <head>
    <meta charset="UTF-8" />
    <title>AiSend Pay · Demo konvertor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      :root {
        --bg: #020817;
        --card: #020617;
        --card-top: #030712;
        --accent: #22c55e;
        --accent-soft: #16a34a;
        --accent-strong: #4ade80;
        --border: #1f2937;
        --text-main: #f9fafb;
        --text-soft: #9ca3af;
        --text-muted: #6b7280;
        --pill-bg: #020617;
        --pill-border: #1f2937;
        --danger: #f97373;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          "Segoe UI", sans-serif;
      }

      body {
        min-height: 100vh;
        background: radial-gradient(circle at top, #020617 0, #020617 26%, #020617 40%, #020617 100%),
          radial-gradient(circle at top left, rgba(34, 197, 94, 0.08), transparent 55%),
          radial-gradient(circle at top right, rgba(59, 130, 246, 0.12), transparent 55%);
        color: var(--text-main);
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 16px;
      }

      .shell {
        width: 100%;
        max-width: 420px;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 10px 4px 6px;
        border-radius: 999px;
        border: 1px solid var(--pill-border);
        background: rgba(15, 23, 42, 0.85);
        backdrop-filter: blur(16px);
        font-size: 11px;
        color: var(--text-soft);
        margin-bottom: 10px;
      }

      .pill-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.25);
      }

      .pill-badge {
        padding: 2px 8px;
        border-radius: 999px;
        background: rgba(56, 189, 248, 0.12);
        color: #7dd3fc;
        font-size: 10px;
      }

      .card {
        position: relative;
        border-radius: 26px;
        background: radial-gradient(circle at top, #020617 0, #020617 46%, #020617 100%);
        border: 1px solid rgba(148, 163, 184, 0.2);
        overflow: hidden;
        box-shadow:
          0 30px 80px rgba(0, 0, 0, 0.75),
          0 0 0 1px rgba(15, 23, 42, 0.5);
      }

      .card-inner {
        padding: 18px 18px 16px;
        background:
          radial-gradient(circle at top left, rgba(56, 189, 248, 0.16), transparent 55%),
          radial-gradient(circle at top right, rgba(34, 197, 94, 0.18), transparent 55%),
          radial-gradient(circle at bottom, rgba(15, 23, 42, 1), rgba(15, 23, 42, 1));
      }

      .card-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 18px;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .brand-logo {
        width: 40px;
        height: 40px;
        border-radius: 18px;
        background: radial-gradient(circle at 30% 0, #22c55e, #22c55e 45%, #16a34a 75%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #022c22;
        font-weight: 800;
        font-size: 19px;
        box-shadow:
          0 18px 45px rgba(16, 185, 129, 0.45),
          0 0 0 1px rgba(15, 23, 42, 0.4);
      }

      .brand-text {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .brand-title {
        font-size: 20px;
        font-weight: 700;
        letter-spacing: 0.01em;
      }

      .brand-sub {
        font-size: 11px;
        color: var(--text-soft);
      }

      .status-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.8);
        border: 1px solid rgba(148, 163, 184, 0.35);
        font-size: 11px;
        color: var(--text-soft);
      }

      .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.25);
      }

      .status-label {
        color: #e5e7eb;
      }

      .section-label {
        font-size: 12px;
        font-weight: 500;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: var(--text-muted);
        margin-bottom: 8px;
      }

      .row {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
      }

      .chip {
        flex: 1;
        border-radius: 18px;
        padding: 10px 12px;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 1), rgba(15, 23, 42, 1));
        border: 1px solid rgba(148, 163, 184, 0.3);
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .chip-label-row {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 11px;
        color: var(--text-soft);
      }

      .chip-badge {
        padding: 2px 6px;
        border-radius: 999px;
        font-size: 10px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        color: #e5e7eb;
      }

      .chip-main {
        font-size: 13px;
        font-weight: 600;
        color: #e5e7eb;
      }

      .chip-secondary {
        font-size: 11px;
        color: var(--text-muted);
      }

      .swap {
        width: 36px;
        height: 36px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.35);
        background: radial-gradient(circle at top, rgba(15, 23, 42, 1), rgba(15, 23, 42, 1));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        color: var(--text-soft);
        margin-top: 18px;
      }

      .select-wrapper {
        margin-top: 4px;
        margin-bottom: 14px;
      }

      .select {
        width: 100%;
        border-radius: 18px;
        border: 1px solid rgba(74, 222, 128, 0.7);
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 1));
        color: #e5e7eb;
        padding: 10px 12px;
        font-size: 13px;
        appearance: none;
        -webkit-appearance: none;
        outline: none;
      }

      .select-row {
        position: relative;
      }

      .select-arrow {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 14px;
        pointer-events: none;
        color: #a3e635;
      }

      .input {
        margin-bottom: 8px;
      }

      .input-box {
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.85), rgba(15, 23, 42, 1));
        padding: 10px 12px;
        color: #e5e7eb;
        font-size: 14px;
      }

      .input-field {
        width: 100%;
        border: none;
        outline: none;
        background: transparent;
        color: inherit;
        font-size: inherit;
      }

      .hint {
        font-size: 11px;
        color: var(--text-muted);
        margin-bottom: 14px;
      }

      .btn {
        width: 100%;
        margin-bottom: 12px;
      }

      .btn-primary {
        width: 100%;
        border: none;
        outline: none;
        border-radius: 999px;
        padding: 11px 16px;
        background: linear-gradient(90deg, #22c55e, #0ea5e9);
        color: #022c22;
        font-size: 15px;
        font-weight: 600;
        letter-spacing: 0.01em;
        box-shadow:
          0 18px 45px rgba(34, 197, 94, 0.65),
          0 0 0 1px rgba(22, 101, 52, 0.8);
      }

      .result-card {
        border-radius: 20px;
        padding: 10px 12px;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 1), rgba(15, 23, 42, 1));
        border: 1px solid rgba(148, 163, 184, 0.5);
      }

      .result-main {
        font-size: 15px;
        font-weight: 600;
        margin-bottom: 4px;
      }

      .result-sub {
        font-size: 11px;
        color: var(--text-muted);
      }

      .global-hint {
        padding: 10px 10px 12px;
        font-size: 11px;
        color: var(--text-muted);
        text-align: center;
      }

      .global-hint span {
        color: #22c55e;
      }

      .error {
        margin-top: 6px;
        font-size: 11px;
        color: var(--danger);
      }
    </style>
  </head>
  <body>
    <div class="shell">
      <div class="pill">
        <span class="pill-dot"></span>
        AiSend · Demo konvertor
        <span class="pill-badge">Beta build</span>
      </div>

      <div class="card">
        <div class="card-inner">
          <div class="card-top">
            <div class="brand">
              <div class="brand-logo">A</div>
              <div class="brand-text">
                <div class="brand-title">AiSend Pay</div>
                <div class="brand-sub">Chegarasiz valyuta almashinuv</div>
              </div>
            </div>
            <div class="status-badge">
              <span class="status-dot"></span>
              <span class="status-label">Onlayn kurslar</span>
            </div>
          </div>

          <div class="section-label">Yo'nalish</div>
          <div class="row">
            <div class="chip">
              <div class="chip-label-row">
                <span class="chip-badge">UZS</span>
                <span>O'zbekiston so'mi</span>
              </div>
              <div class="chip-main">UZS</div>
              <div class="chip-secondary">Asosiy balans</div>
            </div>
            <div class="swap">⇄</div>
            <div class="chip">
              <div class="chip-label-row">
                <span class="chip-badge">KZT</span>
                <span>Qozog'iston tengesi</span>
              </div>
              <div class="chip-main">KZT</div>
              <div class="chip-secondary">Qabul qiluvchi karta</div>
            </div>
          </div>

          <div class="select-wrapper">
            <div class="section-label">Yo'nalishni tanlang</div>
            <div class="select-row">
              <select id="direction" class="select">
                <option value="UZS_KZT">UZS → KZT</option>
                <option value="KZT_UZS">KZT → UZS</option>
                <option value="UZS_KGS">UZS → KGS</option>
                <option value="KGS_UZS">KGS → UZS</option>
              </select>
              <div class="select-arrow">▾</div>
            </div>
          </div>

          <div class="section-label">Miqdor</div>
          <div class="input">
            <div class="input-box">
              <input
                id="amount"
                type="number"
                min="0"
                step="1"
                inputmode="decimal"
                class="input-field"
                placeholder="Miqdor kiriting"
                value="1000"
              />
            </div>
          </div>

          <div class="hint">
            Kurslar demo emas, balki <span>onlayn API</span> orqali olinmoqda.
            Hali rasmiy AiSend serveri ulanmagan.
          </div>

          <div class="btn">
            <button id="calc-btn" class="btn-primary">Hisoblash</button>
          </div>

          <div id="result" class="result-card">
            <div class="result-main" id="result-main">1 000 UZS ≈ —</div>
            <div class="result-sub" id="result-sub">API’dan kurslar olinmoqda…</div>
          </div>

          <div id="error" class="error" style="display: none;"></div>
        </div>

        <div class="global-hint">
          AiSend <span>demo</span> interfeysi. Fikr va takliflar — keyingi bosqich uchun
          asos bo'ladi.
        </div>
      </div>
    </div>

    <script>
      const API_URL =
        "https://api.exchangerate.host/latest?base=UZS&symbols=KZT,KGS";

      let rates = {
        KZT: 0.04,
        KGS: 0.007,
      };

      const amountEl = document.getElementById("amount");
      const dirEl = document.getElementById("direction");
      const resultMainEl = document.getElementById("result-main");
      const resultSubEl = document.getElementById("result-sub");
      const errorEl = document.getElementById("error");
      const calcBtn = document.getElementById("calc-btn");

      function format(n) {
        return new Intl.NumberFormat("uz-UZ").format(n);
      }

      async function loadRates() {
        try {
          errorEl.style.display = "none";
          resultSubEl.textContent = "API’dan kurslar olinmoqda…";

          const res = await fetch(API_URL);
          if (!res.ok) {
            throw new Error("API xatosi: " + res.status);
          }
          const data = await res.json();
          if (data && data.rates) {
            if (typeof data.rates.KZT === "number") {
              rates.KZT = data.rates.KZT;
            }
            if (typeof data.rates.KGS === "number") {
              rates.KGS = data.rates.KGS;
            }

            resultSubEl.textContent =
              "1 UZS ≈ " +
              rates.KZT.toFixed(4) +
              " KZT, 1 UZS ≈ " +
              rates.KGS.toFixed(4) +
              " KGS (onlayn kurslar)";
          } else {
            throw new Error("Noto'g'ri javob formati");
          }
        } catch (e) {
          console.error(e);
          errorEl.textContent =
            "Kurslarni yuklashda muammo. Hozircha demo kurslardan foydalanilmoqda.";
          errorEl.style.display = "block";
          resultSubEl.textContent =
            "1 UZS ≈ " +
            rates.KZT.toFixed(4) +
            " KZT (demo), 1 UZS ≈ " +
            rates.KGS.toFixed(4) +
            " KGS (demo)";
        }
      }

      function recalc() {
        const rawVal = parseFloat(amountEl.value);
        if (!rawVal || rawVal <= 0) {
          resultMainEl.textContent = "Miqdor kiriting";
          return;
        }

        const dir = dirEl.value;
        let res;
        let txt;

        if (dir === "UZS_KZT") {
          res = rawVal * rates.KZT;
          txt = format(rawVal) + " UZS ≈ " + format(res.toFixed(2)) + " KZT";
        } else if (dir === "KZT_UZS") {
          res = rawVal / rates.KZT;
          txt = format(rawVal) + " KZT ≈ " + format(res.toFixed(0)) + " UZS";
        } else if (dir === "UZS_KGS") {
          res = rawVal * rates.KGS;
          txt = format(rawVal) + " UZS ≈ " + format(res.toFixed(2)) + " KGS";
        } else if (dir === "KGS_UZS") {
          res = rawVal / rates.KGS;
          txt = format(rawVal) + " KGS ≈ " + format(res.toFixed(0)) + " UZS";
        }

        resultMainEl.textContent = txt;
      }

      calcBtn.addEventListener("click", recalc);
      amountEl.addEventListener("input", recalc);
      dirEl.addEventListener("change", recalc);

      loadRates().then(recalc);
    </script>
  </body>
</html>
