<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>AiSend Â· Super balance (demo)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-main: #021d08;
      --bg-card: #062b10;
      --bg-card-soft: #093518;
      --accent: #a6ff3b;
      --accent-soft: #cbff7a;
      --accent-dark: #66c420;
      --danger: #ff4b4b;
      --text-main: #ffffff;
      --text-muted: #9bb7a1;
      --border-soft: rgba(255,255,255,0.06);
      --shadow-soft: 0 16px 40px rgba(0,0,0,0.7);
      --radius-xl: 26px;
      --radius-lg: 22px;
      --radius-pill: 999px;
      --transition-fast: 0.17s ease-out;
      --transition-slow: 0.24s ease-out;
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      color: var(--text-main);
      background: radial-gradient(circle at top, #0a3c15 0, #020b05 45%, #000000 100%);
    }

    body {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 10px 0 18px;
    }

    .app {
      width: 100%;
      max-width: 480px;
      height: 100%;
      padding: 8px 10px 18px;
      overflow-y: auto;
    }

    .app-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .app-title {
      font-size: 20px;
      font-weight: 700;
    }

    .app-subtitle {
      font-size: 11px;
      color: var(--text-muted);
      letter-spacing: 0.12em;
      text-transform: uppercase;
      margin-top: 2px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .pill-tag {
      padding: 5px 10px;
      border-radius: var(--radius-pill);
      font-size: 11px;
      border: 1px solid rgba(166,255,59,0.25);
      background: radial-gradient(circle at top, rgba(166,255,59,0.15), rgba(0,0,0,0.4));
      color: var(--accent-soft);
    }

    .profile-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 9px 4px 5px;
      border-radius: 999px;
      background: rgba(9,53,24,0.9);
      border: 1px solid rgba(255,255,255,0.1);
    }

    .profile-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 0, #e3ffd2, #3dd143);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 15px;
      color: #053009;
    }

    .profile-label {
      font-size: 11px;
      color: var(--text-muted);
      line-height: 1.2;
    }

    .profile-label span {
      display: block;
      font-size: 12px;
      color: var(--accent-soft);
      font-weight: 600;
    }

    .profile-chip button {
      border: none;
      outline: none;
      background: transparent;
      color: var(--text-muted);
      font-size: 12px;
      padding: 0 4px;
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .card-balance {
      margin-top: 10px;
      border-radius: var(--radius-xl);
      padding: 16px 16px 14px;
      background: radial-gradient(circle at top left, #1b681f 0, #05240e 48%, #020b05 100%);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .card-balance::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at top left, rgba(166,255,59,0.18), transparent 55%),
        radial-gradient(circle at bottom right, rgba(13,104,34,0.7), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
    }

    .card-balance-inner {
      position: relative;
      z-index: 1;
    }

    .card-balance-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .card-balance-label {
      font-size: 13px;
      color: var(--text-muted);
    }

    .assets-toggle {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(3,26,10,0.75);
      border: 1px solid rgba(255,255,255,0.14);
      cursor: pointer;
    }

    .assets-toggle span {
      color: var(--accent-soft);
      font-weight: 600;
    }

    .assets-toggle svg {
      width: 12px;
      height: 12px;
      fill: currentColor;
      transition: transform var(--transition-fast);
    }

    .assets-toggle.open svg {
      transform: rotate(180deg);
    }

    .card-balance-amount {
      font-size: 30px;
      font-weight: 800;
      letter-spacing: 0.02em;
      margin-bottom: 6px;
    }

    .card-balance-amount span {
      font-size: 15px;
      font-weight: 600;
      opacity: 0.9;
    }

    .card-balance-change {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 9px;
      border-radius: 999px;
      background: rgba(0,0,0,0.4);
      font-size: 11px;
    }

    .chip-up {
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(61,207,80,0.16);
      border: 1px solid rgba(107,255,129,0.7);
      color: #7bff92;
      font-size: 11px;
      font-weight: 600;
    }

    .assets-list {
      margin-top: 10px;
      border-radius: 18px;
      background: linear-gradient(135deg, rgba(5,34,13,0.9), rgba(8,53,23,0.95));
      border: 1px solid rgba(255,255,255,0.08);
      padding: 8px 10px 6px;
      display: none;
      gap: 8px;
      flex-wrap: wrap;
    }

    .assets-list.active {
      display: flex;
    }

    .asset-chip {
      flex: 1 1 calc(50% - 6px);
      min-width: 130px;
      padding: 6px 8px;
      border-radius: 12px;
      background: rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.06);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .asset-chip span {
      font-size: 11px;
      color: var(--text-muted);
    }

    .asset-chip strong {
      font-size: 13px;
    }

    .actions-row {
      margin-top: 14px;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }

    .action-btn {
      position: relative;
      border-radius: 19px;
      padding: 8px 4px 7px;
      border: 1px solid rgba(255,255,255,0.07);
      background: rgba(0,0,0,0.45);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      font-size: 11px;
      color: var(--text-muted);
      cursor: pointer;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast);
    }

    .action-btn span.icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: rgba(0,0,0,0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
    }

    .action-btn.active {
      background: radial-gradient(circle at top, rgba(166,255,59,0.2), rgba(11,56,22,0.95));
      border-color: rgba(166,255,59,0.8);
      color: var(--accent-soft);
      box-shadow: 0 0 0 1px rgba(166,255,59,0.2);
      transform: translateY(-1px);
    }

    .action-btn.active span.icon {
      background: rgba(0,0,0,0.9);
      color: var(--accent-soft);
    }

    .section {
      margin-top: 16px;
      border-radius: var(--radius-xl);
      padding: 14px 14px 16px;
      background: radial-gradient(circle at top left, #093719 0, #020f07 55%, #010804 100%);
      border: 1px solid var(--border-soft);
      box-shadow: var(--shadow-soft);
    }

    .section-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .section-sub {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 12px;
      line-height: 1.4;
    }
  </style>
</head>
<body>
<div class="app">
<header class="app-header">
    <div>
      <div class="app-title">AiSend</div>
      <div class="app-subtitle">AISEND Â· DEMO</div>
    </div>
    <div class="header-right">
      <div class="pill-tag">Demo konvertor</div>
      <div class="profile-chip" id="profileOpenBtn">
        <div class="profile-avatar" id="profileAvatar">TG</div>
        <div class="profile-label">
          Profil
          <span id="profileShortName">@demo</span>
        </div>
        <button type="button">â–¾</button>
      </div>
    </div>
  </header>

  <section class="card-balance">
    <div class="card-balance-inner">
      <div class="card-balance-top">
        <div>
          <div class="card-balance-label">Umumiy balans</div>
          <div class="card-balance-amount">
            <span id="balanceTotal">12 450.00</span> USZ
          </div>
          <div class="card-balance-change">
            <span class="chip-up" id="balanceChangeChip">+3.4%</span>
            <span>Oxirgi hafta (demo)</span>
          </div>
        </div>
        <div class="assets-toggle" id="assetsToggle">
          <span>Barcha aktivlar</span>
          <svg viewBox="0 0 24 24">
            <path d="M7 10l5 5 5-5H7z"></path>
          </svg>
        </div>
      </div>

      <div class="assets-list" id="assetsList">
        <div class="asset-chip">
          <span>Fiat (UZS / KZT / KGS)</span>
          <strong id="fiatAsset">8 230 USZ</strong>
        </div>
        <div class="asset-chip">
          <span>Crypto (demo)</span>
          <strong id="cryptoAsset">4 020 USZ</strong>
        </div>
        <div class="asset-chip">
          <span>Stocks (demo)</span>
          <strong id="stocksAsset">200 USZ</strong>
        </div>
        <div class="asset-chip">
          <span>AiSend bonus (demo)</span>
          <strong id="bonusAsset">0 USZ</strong>
        </div>
      </div>

      <div class="actions-row" id="actionsRow">
        <button class="action-btn" data-tab="send">
          <span class="icon">â†—</span>
          <span>Send</span>
        </button>
        <button class="action-btn" data-tab="exchange">
          <span class="icon">â‡„</span>
          <span>Exchange</span>
        </button>
        <button class="action-btn" data-tab="crypto">
          <span class="icon">à¸¿</span>
          <span>Crypto</span>
        </button>
        <button class="action-btn" data-tab="stocks">
          <span class="icon">ðŸ“ˆ</span>
          <span>Stocks</span>
        </button>
      </div>
    </div>
  </section>

  <section class="section" id="quickTransferSection">
    <div class="section-title">Quick Transfer</div>
    <div class="section-sub">
      UZS â†’ KZT / KGS kartaga tezkor oâ€˜tkazmalar (demo). Komissiya tarkibini oldindan koâ€˜rib turasiz.
    </div>

    <div class="field-row">
      <div class="field">
        <label>From valyuta</label>
        <div class="select">
          <select id="qtFrom">
            <option value="UZS">UZS (Uzbekistan)</option>
          </select>
        </div>
      </div>
      <div class="field">
        <label>To valyuta</label>
        <div class="select">
          <select id="qtTo">
            <option value="KZT">KZT (Kazakhstan)</option>
            <option value="KGS">KGS (Kyrgyzstan)</option>
          </select>
        </div>
      </div>
    </div>

    <div class="field">
      <label>Miqdor</label>
      <input id="qtAmount" type="number" inputmode="decimal" placeholder="Miqdor kiriting" />
    </div>

    <div class="field">
      <label>Qabul qiluvchi (demo)</label>
      <input id="qtReceiver" type="text" placeholder="@username yoki karta raqam (demo)" />
    </div>

    <div class="section-sub" style="margin-top:10px;">
      Komissiyalar: <strong>1% exchange + 1% transfer</strong> (demo). Real ilovada bu raqamlar litsenziyaga qarab oâ€˜zgaradi.
    </div>

    <div class="summary-card" id="qtSummaryCard">
      <div class="summary-row main">
        <span>Qabul qiluvchi oladi (taxminan)</span>
        <span id="qtNetAmount">0.00 KZT</span>
      </div>
      <div class="summary-row">
        <span>Exchange fee (1%)</span>
        <span id="qtExchangeFee">0.00 KZT</span>
      </div>
      <div class="summary-row">
        <span>Transfer fee (1%)</span>
        <span id="qtTransferFee">0.00 KZT</span>
      </div>
      <div class="summary-row">
        <span>Umumiy komissiya</span>
        <span id="qtTotalFee">0.00 KZT</span>
      </div>
    </div>

    <button class="primary-btn" id="qtSubmitBtn">
      Yuborishni tasdiqlash (demo)
    </button>
  </section>

  <section class="section" id="tabCryptoSection" style="display:none;">
    <div class="section-title">Crypto portfel (demo)</div>
    <div class="section-sub">
      Tez orada: USDT, BTC va boshqa aktivlarni sotib olish va sotish. Hozircha faqat demo koâ€˜rinish.
    </div>
    <div class="demo-list">
      <div class="demo-item">
        <div>
          <div class="demo-title">USDT (Tether)</div>
          <div class="demo-sub">Balans: 250 USDT (demo)</div>
        </div>
        <div class="demo-badge">+0.3%</div>
      </div>
      <div class="demo-item">
        <div>
          <div class="demo-title">BTC (Bitcoin)</div>
          <div class="demo-sub">Balans: 0.015 BTC (demo)</div>
        </div>
        <div class="demo-badge">+1.2%</div>
      </div>
    </div>
  </section>

  <section class="section" id="tabStocksSection" style="display:none;">
    <div class="section-title">Stock market (demo)</div>
    <div class="section-sub">
      Kelajakda: AQSH va mahalliy bozor aksiyalarini sotib olish va sotish. Hozircha faqat demo maâ€˜lumot.
    </div>
    <div class="demo-list">
      <div class="demo-item">
        <div>
          <div class="demo-title">AAPL</div>
          <div class="demo-sub">Balans: 3 ta aksiya (demo)</div>
        </div>
        <div class="demo-badge">+0.8%</div>
      </div>
      <div class="demo-item">
        <div>
          <div class="demo-title">TSLA</div>
          <div class="demo-sub">Balans: 1 ta aksiya (demo)</div>
        </div>
        <div class="demo-badge">âˆ’0.4%</div>
      </div>
    </div>
  </section>

  <!-- Profil modal -->
  <div class="profile-modal-backdrop" id="profileModal">
    <div class="profile-modal">
      <div class="profile-modal-header">
        <div class="profile-modal-title">Telegram profil</div>
        <button class="close-btn" id="profileCloseBtn">âœ•</button>
      </div>
      <div class="profile-modal-body">
        <div class="profile-row">
          <span>Ism:</span>
          <span id="pf-name">-</span>
        </div>
        <div class="profile-row">
          <span>ID:</span>
          <span id="pf-id">-</span>
        </div>
        <div class="profile-row">
          <span>Username:</span>
          <span id="pf-username">-</span>
        </div>
        <hr />
        <button class="secondary-btn" id="profileSettingsBtn">Sozlamalar (tez orada)</button>
        <button class="danger-btn" id="profileLogoutBtn">Chiqish (tez orada)</button>
      </div>
    </div>
  </div>
<style>
    .field-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }
    .field {
      flex: 1;
      margin-bottom: 8px;
    }
    .field label {
      display: block;
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }
    .field input,
    .field select {
      width: 100%;
      padding: 9px 11px;
      border-radius: 13px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(4,22,10,0.94);
      color: var(--text-main);
      font-size: 13px;
      outline: none;
    }
    .field input::placeholder {
      color: rgba(155,183,161,0.6);
    }
    .select {
      position: relative;
    }
    .select::after {
      content: "â–¾";
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 11px;
      color: var(--text-muted);
      pointer-events: none;
    }
    .summary-card {
      margin-top: 8px;
      border-radius: 16px;
      background: rgba(3,20,9,0.9);
      border: 1px solid rgba(255,255,255,0.12);
      padding: 8px 10px;
    }
    .summary-row {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--text-muted);
      margin: 3px 0;
    }
    .summary-row.main {
      color: var(--text-main);
      font-weight: 600;
      margin-bottom: 4px;
    }
    .primary-btn {
      margin-top: 11px;
      width: 100%;
      border-radius: 20px;
      border: none;
      padding: 11px 12px;
      font-size: 14px;
      font-weight: 600;
      background: linear-gradient(90deg, var(--accent), var(--accent-dark));
      color: #032003;
      box-shadow: 0 10px 24px rgba(166,255,59,0.4);
      cursor: pointer;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), filter var(--transition-fast);
    }
    .primary-btn:active {
      transform: translateY(1px);
      box-shadow: 0 6px 16px rgba(166,255,59,0.3);
      filter: brightness(0.96);
    }
    .demo-list {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .demo-item {
      padding: 8px 9px;
      border-radius: 14px;
      background: rgba(3,20,9,0.9);
      border: 1px solid rgba(255,255,255,0.08);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .demo-title {
      font-size: 13px;
      font-weight: 600;
    }
    .demo-sub {
      font-size: 11px;
      color: var(--text-muted);
    }
    .demo-badge {
      font-size: 11px;
      padding: 4px 7px;
      border-radius: 999px;
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.14);
    }
    .profile-modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      display: none;
      align-items: flex-end;
      justify-content: center;
      z-index: 50;
    }
    .profile-modal-backdrop.active {
      display: flex;
    }
    .profile-modal {
      width: 100%;
      max-width: 480px;
      border-radius: 22px 22px 0 0;
      background: radial-gradient(circle at top, #093719, #020b05);
      border-top: 1px solid rgba(255,255,255,0.14);
      padding: 14px 16px 18px;
    }
    .profile-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .profile-modal-title {
      font-size: 16px;
      font-weight: 700;
    }
    .close-btn {
      border: none;
      background: rgba(0,0,0,0.45);
      border-radius: 999px;
      width: 28px;
      height: 28px;
      color: #ffffff;
      font-size: 14px;
      cursor: pointer;
    }
    .profile-modal-body {
      font-size: 13px;
    }
    .profile-row {
      display: flex;
      justify-content: space-between;
      margin: 4px 0;
    }
    .profile-row span:first-child {
      color: var(--text-muted);
    }
    .profile-modal hr {
      border: none;
      border-top: 1px solid rgba(255,255,255,0.1);
      margin: 10px 0;
    }
    .secondary-btn,
    .danger-btn {
      width: 100%;
      border-radius: 18px;
      padding: 9px 10px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.4);
      color: var(--text-main);
      font-size: 13px;
      cursor: pointer;
      margin-bottom: 7px;
    }
    .danger-btn {
      background: rgba(138,12,12,0.9);
      border-color: rgba(255,75,75,0.8);
    }
  </style>

  <script>
    const DEMO_RATES = {
      "UZS_KZT": 0.0400,
      "UZS_KGS": 0.0070
    };

    function formatNumber(value, decimals = 2) {
      const n = Number(value) || 0;
      return n.toLocaleString("ru-RU", {
        minimumFractionDigits: decimals,
        maximumFractionDigits: decimals
      });
    }

    function getRate(from, to) {
      if (from === "UZS" && to === "KZT") return DEMO_RATES["UZS_KZT"];
      if (from === "UZS" && to === "KGS") return DEMO_RATES["UZS_KGS"];
      return 0;
    }

    function initAssetsDropdown() {
      const toggle = document.getElementById("assetsToggle");
      const list = document.getElementById("assetsList");
      if (!toggle || !list) return;
      toggle.addEventListener("click", () => {
        const active = list.classList.toggle("active");
        toggle.classList.toggle("open", active);
      });
    }

    function setActiveTab(tab) {
      const buttons = document.querySelectorAll(".action-btn");
      buttons.forEach(btn => {
        btn.classList.toggle("active", btn.dataset.tab === tab);
      });

      const quickSec = document.getElementById("quickTransferSection");
      const cryptoSec = document.getElementById("tabCryptoSection");
      const stocksSec = document.getElementById("tabStocksSection");

      if (tab === "crypto") {
        quickSec.style.display = "none";
        cryptoSec.style.display = "";
        stocksSec.style.display = "none";
      } else if (tab === "stocks") {
        quickSec.style.display = "none";
        cryptoSec.style.display = "none";
        stocksSec.style.display = "";
      } else {
        quickSec.style.display = "";
        cryptoSec.style.display = "none";
        stocksSec.style.display = "none";
      }
    }

    function initTabs() {
      const buttons = document.querySelectorAll(".action-btn");
      buttons.forEach(btn => {
        btn.addEventListener("click", () => {
          setActiveTab(btn.dataset.tab);
        });
      });
      setActiveTab("send");
    }

    function recalcQuickTransfer() {
      const from = document.getElementById("qtFrom").value;
      const to = document.getElementById("qtTo").value;
      const amountInput = document.getElementById("qtAmount");
      const raw = parseFloat(amountInput.value.replace(",", ".")) || 0;

      const rate = getRate(from, to);
      const gross = raw * rate;
      const exFee = gross * 0.01;
      const trFee = gross * 0.01;
      const totalFee = exFee + trFee;
      const net = Math.max(gross - totalFee, 0);

      document.getElementById("qtNetAmount").textContent = formatNumber(net) + " " + to;
      document.getElementById("qtExchangeFee").textContent = formatNumber(exFee) + " " + to;
      document.getElementById("qtTransferFee").textContent = formatNumber(trFee) + " " + to;
      document.getElementById("qtTotalFee").textContent = formatNumber(totalFee) + " " + to;
    }

    function initQuickTransfer() {
      ["qtFrom", "qtTo", "qtAmount"].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.addEventListener("input", recalcQuickTransfer);
      });

      const btn = document.getElementById("qtSubmitBtn");
      if (btn) {
        btn.addEventListener("click", () => {
          recalcQuickTransfer();
          btn.classList.add("pressed");
          setTimeout(() => btn.classList.remove("pressed"), 150);
        });
      }

      recalcQuickTransfer();
    }

    function initProfileModal() {
      const backdrop = document.getElementById("profileModal");
      const openBtn = document.getElementById("profileOpenBtn");
      const closeBtn = document.getElementById("profileCloseBtn");

      function open() { backdrop.classList.add("active"); }
      function close() { backdrop.classList.remove("active"); }

      if (openBtn) openBtn.addEventListener("click", open);
      if (closeBtn) closeBtn.addEventListener("click", close);
      if (backdrop) {
        backdrop.addEventListener("click", (e) => {
          if (e.target === backdrop) close();
        });
      }
    }
  </script>
<script>
    function initTelegramUser() {
      let name = "-";
      let id = "-";
      let username = "-";

      try {
        if (window.Telegram && Telegram.WebApp && Telegram.WebApp.initDataUnsafe) {
          const u = Telegram.WebApp.initDataUnsafe.user;
          if (u) {
            name = [u.first_name, u.last_name].filter(Boolean).join(" ") || "-";
            id = String(u.id || "-");
            if (u.username) username = "@" + u.username;
          }
        }
      } catch (e) {
        console.warn("Telegram initDataUnsafe o'qishda xato:", e);
      }

      const pfName = document.getElementById("pf-name");
      const pfId = document.getElementById("pf-id");
      const pfUsername = document.getElementById("pf-username");
      if (pfName) pfName.textContent = name;
      if (pfId) pfId.textContent = id;
      if (pfUsername) pfUsername.textContent = username;

      const avatar = document.getElementById("profileAvatar");
      const short = document.getElementById("profileShortName");
      if (avatar) {
        const initials = name && name !== "-" ? name.split(" ").map(s => s[0]).join("").slice(0,2).toUpperCase() : "TG";
        avatar.textContent = initials;
      }
      if (short) {
        short.textContent = username !== "-" ? username : name !== "-" ? name : "@demo";
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      try {
        if (window.Telegram && Telegram.WebApp) {
          Telegram.WebApp.ready();
          Telegram.WebApp.expand();
        }
      } catch (e) {
        console.warn("Telegram WebApp.ready xato:", e);
      }

      initTelegramUser();
      initAssetsDropdown();
      initTabs();
      initQuickTransfer();
      initProfileModal();
    });
  </script>
</div>
</body>
</html>
